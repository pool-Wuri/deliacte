<div style="display: inline-flex;">
    <p-button icon="pi pi-arrow-left" (onClick)="retourPage()" [rounded]="true" [text]="true" title="retour en arrière" [raised]="true" severity="help" />
    <h1 class="p-4">Details Organisation</h1>

</div>

<div class="card">
    <h4 class="card-title">-- Details Organisation --</h4>
    <div class="input-container">
        <!-- Champ 1 -->
        <div class="input-item">
            <label for="inputField1" class="custom-label">Nom de l'organisation</label>
            <input
                id="inputField1"
                type="text"
                pInputText
                [value]="organisation.name"

                class="custom-input"
                readonly
            />
        </div>
        <!-- Champ 2 -->

        <div class="input-item">
            <label for="inputField1" class="custom-label">Description</label>
            <input
                id="inputField1"
                type="text"
                pInputText
                class="custom-input"
                readonly
                [value]="organisation.description"

            />
        </div>

        <!-- Champ 3 -->
        <div class="input-item">
            <label for="inputField1" class="custom-label">Oganisation parent </label>
            <input
                id="inputField1"
                type="text"
                pInputText
                class="custom-input"
                readonly
                [value]="organisation.parentOrganisation?.name ? organisation.parentOrganisation.name : '---------------'"

            />
        </div>
        
    </div> <br>
</div>
<!--p-splitter [style]="{'height': '300px'}"> 
    <ng-template pTemplate>
      <div class="panel-content">
        <div class="field">
          <span class="label" style="color: #060;">Nom :</span>
          <span class="value" >{{ organisation.name }}</span>
        </div>
        <div class="field">
          <span class="label" style="color: #060;">Organisation Parent :</span>
          <span class="value">{{ organisation.parentOrganisation?.name }}</span>
        </div>
      </div>
    </ng-template>
  
    <ng-template pTemplate>
      <div class="panel-content">
        <div class="field">
          <span class="label" style="color: #060;">Description :</span>
          <span class="value">{{ organisation.description }}</span>
        </div>
      </div>
    </ng-template>
  </p-splitter-->
  
<!--p-divider align="center">
    <div class="inline-flex align-items-center" style="color:#060;">
        <i class="pi pi-info-circle user"></i>
        <b>Administrateur d'organisation</b>
    </div>
</p-divider-->

<div class="card">
    <h4 class="card-title">-- Administrateur d'organisation --</h4>
    <p-tabView>
        <p-tabPanel header="Administrateur">
            <div class="card">
                <p-table #dt [value]="utilisateurs"  styleClass="p-datatable-customers" [rowHover]="true" 
                [rows]="5" [showCurrentPageReport]="true" [rowsPerPageOptions]="[5,10,15,25,50]" dataKey="id"
                [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [globalFilterFields]="['firstName']">
            
                <ng-template pTemplate="caption">
                    <div class="flex">
                        <span class="p-input-icon-left ml-auto cherch">
                            <i class="pi pi-search" ></i>
                            <input 
                                pInputText 
                                type="text" 
                                #searchInput 
                                (input)="dt.filterGlobal(searchInput.value, 'contains')" 
                                placeholder="      Rechercher" />
                        </span>
                    </div>
                </ng-template>
                
                <ng-template pTemplate="header">
                    <tr class="tableEnt">
                        <!--th style="width: 4rem,">
                            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                        </th-->
                        <th >Nom</th>
                        <th >Prenom</th>
                        <th >Email</th>
                        <!--th >Statut</th-->
                    </tr>
            
                    
                </ng-template>
                <ng-template id="bodi" pTemplate="body" let-utilisateur>
                    <tr class="p-selectable-row tableContenu">
                        <!--td>
                            <p-tableCheckbox  class="rounded-lg" [value]="utilisateur"></p-tableCheckbox>
                        </td-->
                        <td>
                        {{utilisateur.firstName}}
                        </td>
                        <td >
                            {{ utilisateur.lastName }}
                        </td>
                    
                        <td>
                            {{utilisateur.email}}
                        </td>
                        <!--td>
                            {{utilisateur.isActive}}
                        </td-->
                    
                    
                    </tr>
                </ng-template>
                </p-table>
            
            </div>
        </p-tabPanel>
        <p-tabPanel header="Procédure">
    
            <div class="card">
                <p-table #dt [value]="procedures"  styleClass="p-datatable-customers" [rowHover]="true" 
                [rows]="5" [showCurrentPageReport]="true" [rowsPerPageOptions]="[5,10,15,25,50]" dataKey="id"
                [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [globalFilterFields]="['name']">
            
                <ng-template pTemplate="caption">
                    <div class="flex">
                        <span class="p-input-icon-left ml-auto cherch">
                            <i class="pi pi-search" ></i>
                            <input 
                                pInputText 
                                type="text" 
                                #searchInput 
                                (input)="dt.filterGlobal(searchInput.value, 'contains')" 
                                placeholder="      Rechercher" />
                        </span>
                    </div>
                </ng-template>
                
                <ng-template pTemplate="header">
                    <tr class="tableEnt">
                        <!--th style="width: 4rem,">
                            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                        </th-->
                        <th >Nom</th>
                        <th >Description</th>
                        <th >Status</th>
                        <!--th >IsActive</th-->
                    </tr>
            
                    
                </ng-template>
                <ng-template id="bodi" pTemplate="body" let-procedure>
                    <tr class="p-selectable-row tableContenu">
                        <!--td>
                            <p-tableCheckbox  class="rounded-lg" [value]="utilisateur"></p-tableCheckbox>
                        </td-->
                        <td>
                        {{procedure.name}}
                        </td>
                        <td >
                            {{ procedure.description }}
                        </td>
                    
                        <td>
                            {{ parseStatus(procedure.status) }}
                        </td>
                        <!--td>
                            {{procedure.isActive}}
                        </td-->
                    </tr>
                </ng-template>
                </p-table>
            
            </div>
        </p-tabPanel>
    </p-tabView>
      
</div>
