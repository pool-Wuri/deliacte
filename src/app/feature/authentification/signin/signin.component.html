
<div *ngIf="loading" style="position:absolute;z-index:100;width:100%;height:100%;background-color:black;opacity: 0.7;left:0%;top:0%">
    <div style="position:absolute;z-index:100;top:40%;left:45%;background-color:black;opacity: 0.7;">
     <p-progressSpinner></p-progressSpinner>
    </div>
</div>

<p-toast></p-toast>

<!--div class="fixed top-0 left-0 right-0 px-0 py-4 lg:px-0 lg:pl-0 h-32" style="background-color: #060; z-index: 1000;">
    <div class="flex items-center justify-between ">
        <div class="flex items-center justify-start rtl:justify-end h-24" >
            <button  type="button" class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
                <span class="sr-only">Open sidebar</span>
                <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path clip-rule="evenodd" fill-rule="evenodd" d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"></path>
                </svg>
            </button>
           <a href="" class="flex items-center space-x-3 rtl:space-x-reverse" >
              <img src="assets/img/armoiriePh.jpeg" class="h24 w-24 me-3" alt="FlowBite Logo" style="background-color: white;width: 120px;" />
              <div class="w-80 text-white">
                <h5>Ministère de la Transition Digitale, des Postes et des Communications Électroniques</h5>
            </div>
            </a>
           
        </div>
        <div class="mr-5">
          <span class="example-spacer"></span>
      <span class="example-spacer"></span>
      <span class="example-spacer"></span>
      <span class="example-spacer"></span>
      <button type="button" (click)="suivreDemande()" class="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 
      focus:outline-none bg-white rounded-full border border-gray-200 
      hover:bg-Green-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 
      dark:bg-green-800 dark:text-green-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-green-700">Suivre ma demande</button>
     
      <button type="button" [routerLink]="'/deliacte/procedure-published'" routerLinkActive="active" class="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 
      focus:outline-none bg-white rounded-full border border-gray-200 
      hover:bg-Green-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 
      dark:bg-green-800 dark:text-green-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-green-700">Acceuil</button>
      <button type="button" [routerLink]="'/deliacte/login'" (click)="demandePage=false" routerLinkActive="active" class="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none 
      bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:bg-gray-100 focus:z-10 
      focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 
      dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Se Connecter</button>
        </div>
    </div>
</div-->
<nav class="fixed border-gray-400 dark:bg-gray-900 right-0 left-0 top-0 px-0 py-4 lg:px-0 lg:pl-0 h-32" style="background-color: #060; z-index: 1000;">
    <div class="max-w-screen-xl flex flex-wrap fixed items-center justify-between mx-auto p-4 top-0 left-0 right-0 h-32">
        <a  class="flex fixed items-center space-x-15 rtl:space-x-reverse left-0  mb-8" >
            <img src="assets/img/armoiriePh.jpeg" class="h8 pt-6 mr-4
            " alt="FlowBite Logo" style="width: 120px;" />
            <div class="w-80 text-white">
              <h5>Ministère de la Transition Digitale, des Postes et des Communications Électroniques</h5>
          </div>
        </a>
      <span class="example-spacer"></span>
      <span class="example-spacer"></span>
    

        <button data-collapse-toggle="navbar-default" type="button" class="inline-flex 
        fixed items-center right-0 p-2 w-10 h-10 justify-center text-sm text-gray-500 
        rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 
         focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
            </svg>
        </button>

        <div class="hidden w-full md:block md:w-full"  id="navbar-default" >
            <ul style="background-color: #060;" 
            class="font-medium flex md:fixed -mt-1 flex-col mt-[120px] md:bg-transparent md:-top-20 right-0 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-0 md:ps-8 rtl:space-x-reverse md:border-0 dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
                        <li>
                    <button type="button" (click)="suivreDemande()" class="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 
                    focus:outline-none bg-white rounded-full border border-gray-200 
                    hover:bg-Green-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 
                    dark:bg-green-800 dark:text-green-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-green-700">Suivre ma demande</button>
                
                    <!--a href="#" class="block py-2 px-3 text-white bg-blue-700 rounded-sm md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500" aria-current="page">Home</a-->
                </li>
                <li>
                    <button type="button" [routerLink]="'/deliacte/procedure-published'" routerLinkActive="active" class="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 
                    focus:outline-none bg-white rounded-full border border-gray-200 
                    hover:bg-Green-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 
                    dark:bg-green-800 dark:text-green-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-green-700">Acceuil</button>
                
                    <!--a href="#" class="block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">About</a-->
                </li>
                <li>
                    <button type="button" [routerLink]="'/deliacte/login'" (click)="demandePage=false" routerLinkActive="active" class="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none 
                    bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:bg-gray-100 focus:z-10 
                    focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 
                    dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Se Connecter</button>
                    <!--a href="#" class="block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Services</a-->
                </li>
            </ul>
        </div>
    </div>
</nav>
  




<div class="card pt-8" *ngIf="demandePage===false && oubliPage===false">
    <div class="flex min-h-full flex-col justify-center px-6 py-16 lg:px-8">
        <div class="sm:mx-auto sm:w-full sm:max-w-sm">
            <img class="mx-auto h-17 w-36" src="assets/img/armoiriePh.jpeg" alt="Your Company">
            <h2 class="mt-4 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900">Deliacte</h2>
        </div>  
        <div class="mt-10 sm:mx-auto sm:w-full sm:max-w-sm">
            <form class="space-y-6"  [formGroup]="connexionForm" (ngSubmit)="onSubmit()">
                <div>
                <label for="email" class="block text-sm font-medium leading-6 text-gray-900">Votre adresse mail</label>
                <div class="mt-2">
                    <input id="email" name="email" type="email" autocomplete="email" formControlName="email" 
                    required 
                    class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset 
                    ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset 
                    focus:ring-indigo-600 sm:text-sm sm:leading-6">
                    <small class="p-error" *ngIf="submitted && connexionForm.controls['email']?.invalid">
                        Veuillez entrer une adresse mail valide.
                      </small>
                </div>
                </div>
        
                <div>
                <div class="flex items-center justify-between">
                    <label for="password" class="block text-sm font-medium leading-6 text-gray-900">Votre mot de passe</label>
                    <div class="text-sm">
                        <a  (click)="Oublie()" class="font-semibold text-indigo-600 hover:text-indigo-500" style="color: #060;">Mot de passe oublié ?</a>
                        </div>
                    <div class="text-sm">
                    </div>
                </div>
                <div class="mt-2">
                    <input id="password" name="password" type="password" formControlName="password" autocomplete="current-password" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                    <small class="p-error" *ngIf="submitted && connexionForm.controls['password']?.invalid">
                        Veuillez entrer votre mot de passe.
                      </small>
                </div>
                </div>
        
                <div>
                <button type="submit" style="background-color: #060;;" class="flex w-full justify-center focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Se connecter</button>
                </div>
                <div class="flex items-center justify-between">
                    <label for="password" class="block text-sm font-medium leading-6 text-gray-900">Vous n'avez pas de compte?</label>

                    <div class="text-sm">
                    <a  (click)="ajouter()" class="font-semibold text-indigo-600 hover:text-indigo-500" style="color: #060;">Creer compte </a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div *ngIf="demandePage && !oubliPage ">
    <div class="flex min-h-full flex-col justify-center px-6 py-36 lg:px-8">
        <div class="sm:mx-auto sm:w-full sm:max-w-sm card">
            <div class="max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700">
                <div class="mb-6 ">
                    <label for="large-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Votre numero de dossier</label>
                    <input type="text" id="large-input" placeholder="numero du dossier" [(ngModel)]="numDossier"
                    class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-base 
                    focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 
                    dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                </div>
                <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                    <button type="button"  style="background-color: #060;" (click)="validerDemande(numDossier)"
                    class="text-white hover:bg-green-800 focus:outline-none focus:ring-4 focus:ring-green-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Valider</button>
    
                  
                    <button  type="button" style="background-color: #ff0000;" (click)="demandePage=false"
                    class="py-2.5 px-5 ms-3 text-sm font-medium text-white  hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 rounded-full">Annuler</button>
                </div>
            </div>
            
        </div>
    </div>
  </div>

  <div *ngIf="oubliPage && !demandePage ">
    <div class="flex min-h-screen justify-center items-center px-6 py-36 lg:px-8">
        <div class="max-w-sm w-full p-6 bg-white ">
            <div class="mb-6">
                <label for="large-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Saisir votre adresse mail</label>
                <input type="email" id="large-input" placeholder="Adresse email" [(ngModel)]="mailOublie"
                    class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-base 
                    focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 
                    dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>
            <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                <button type="button" style="background-color: #060;" (click)="saveMailoublie()"
                    class="text-white hover:bg-green-800 focus:outline-none focus:ring-4 focus:ring-green-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Valider</button>
                <button type="button" style="background-color: #ff0000;" (click)="oubliPage=false"
                    class="py-2.5 px-5 ms-3 text-sm font-medium text-white hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 rounded-full">Annuler</button>
            </div>
        </div>
    </div>
    
    
  </div>


<div 
     [ngClass]="{'hidden': !addUser}" 
     tabindex="-1" 
     [attr.aria-hidden]="!addUser" 
     class="modal fixed inset-0 z-50 flex justify-center items-center w-full h-full bg-gray-500 bg-opacity-50">

    <div class="relative p-4 w-full max-w-2xl max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                    Ajouter utilisateur
                </h3>
                <button type="button" (click)="fermerModal()"
                class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 
                rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>
            <!-- Modal body -->
            <div class="p-4 md:p-5 space-y-4">             

                    <div class="grid gap-6 mb-6 md:grid-cols-2">
                        <div>
                            <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nom</label>
                            <input type="text"  [(ngModel)]="utilisateur1.firstName" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Votre nom" required />
                            <small class="p-error" *ngIf="submitted && !utilisateur1.firstName">Saisir notre nom.</small>

                        </div>
                        <div>
                            <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Prenom</label>
                            <input type="text"  [(ngModel)]="utilisateur1.lastName" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Votre prenom" required />
                            <small class="p-error" *ngIf="submitted && !utilisateur1.lastName">Saisir notre prenom.</small>

                        </div>
                     
                    </div>
                    <div>
                        <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"> Adresse email</label>
                        <input type="email"   [(ngModel)]="utilisateur1.email"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 
                        focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 
                        dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Votre adresse email" required />
                        <small class="p-error" *ngIf="submitted && !utilisateur1.email">Saisir notre adresse mail.</small>

                    </div>  
                   
            </div>

            <!-- Modal footer -->
            <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                <button type="button" *ngIf="addUser" (click)="saveUser()" style="background-color: #060;"
                class="text-white hover:bg-green-800 focus:outline-none focus:ring-4 focus:ring-green-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Valider</button>

              
                <button (click)="fermerModal()" type="button" style="background-color: #ff0000;"
                class="py-2.5 px-5 ms-3 text-sm font-medium text-white  hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 rounded-full">Annuler</button>
            </div>
        </div>
    </div>
</div>

 
<p-confirmDialog [style]="{width: '40vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>
